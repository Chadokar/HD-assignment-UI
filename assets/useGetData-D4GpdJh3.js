import{r as t,a as u,c as f,k as r}from"./index-BTgyP7uX.js";function m(o){const[n,s]=t.useState(!0),[c,a]=t.useState(null),[i,l]=t.useState(null);return t.useEffect(()=>{(async()=>{s(!0),a(null);try{const e=await u.get(o,f());l(e.data)}catch(e){e.status===401&&(r.error("Unauthorized access, please login again"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/signin"),e.status===403&&(r.error("Forbidden access, please login again"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/signin"),e.status===404&&(r.error("Resource not found"),a("Resource not found")),e.status===500&&(r.error("Internal server error"),a("Internal server error"))}finally{s(!1)}})()},[o]),{loading:n,error:c,data:i}}export{m as u};
