import{R as v,r,u as P,j as e,m as k,L as O,a as A}from"./index-BTgyP7uX.js";import{u as I,g as R,c as T}from"./google-Bmk_Gkct.js";import{S as s,I as n,B as g,L}from"./types-BatVEiCz.js";import{o as D}from"./signincalls-CboYOSYJ.js";function F(){var m,x,u;const[o,p]=r.useState(!1),[h,c]=r.useState(!1),[t,d]=r.useState(s.PASSWORD),[f,j]=r.useState(""),b=P(),{register:a,handleSubmit:w,formState:{errors:l},reset:N}=I({defaultValues:{rememberMe:!1}});async function y(i){await D(i,t,d,f,j,p,b),N()}async function S(){A.get("google/redirect").then(i=>{window.location.href=i.data.url})}return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx("div",{className:"flex w-full items-center justify-center p-4 lg:w-2/5",children:e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 lg:items-start items-center",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Sign In"}),e.jsx("p",{className:"text-sm text-secondary dark:text-gray-400",children:"Please login to continue to your account."})]}),e.jsxs("form",{onSubmit:w(y),className:"space-y-6 gap-4",children:[t!==s.OTP&&e.jsx("div",{className:"space-y-2",children:e.jsx(n,{id:"email",type:"email",label:"Email",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),error:(m=l.email)==null?void 0:m.message})}),t===s.PASSWORD&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{id:"password",type:"password",label:"Password",...a("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),error:(x=l.password)==null?void 0:x.message}),e.jsxs("div",{className:"flex flex-col gap-2 pt-2 justify-between",children:[e.jsx("button",{type:"button",onClick:()=>c(!0),className:"text-xs font-semibold text-blue-500 underline w-fit",children:"Forgot password?"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",...a("rememberMe"),className:"h-4 w-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-primary dark:text-gray-400",children:"Keep me logged in"})]})]})]}),t===s.OTP&&e.jsx(n,{id:"otp",label:"Enter OTP",...a("otp",{required:"OTP is required",pattern:{value:/^[0-9]{6}$/,message:"Invalid OTP format"}}),error:(u=l.otp)==null?void 0:u.message}),e.jsx(g,{type:"submit",className:"w-full",isLoading:o,children:o?e.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}):t===s.PASSWORD?"Sign in":t===s.OTP?"Verify OTP":"Continue"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>d(t===s.PASSWORD?s.DETAILS:s.PASSWORD),className:"text-xs text-blue-500 hover:underline",children:t!==s.PASSWORD?"Sign in with password instead":"Sign in with OTP instead"})})]}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-aclline"})}),e.jsx("div",{className:"relative flex justify-center text-[1rem]",children:e.jsx("span",{className:"bg-white px-2 text-aclline2 text-muted-foreground dark:bg-gray-900",children:"or"})})]}),e.jsxs(g,{type:"button",variant:"outline",className:"w-full",onClick:()=>{S()},children:["Sign In with Google",e.jsx("img",{src:R,alt:"Google",className:"ml-2 h-6 w-6"})]})]}),e.jsx(e.Fragment,{children:h?e.jsx("button",{type:"button",onClick:()=>c(!1),className:"text-sm text-blue-500 hover:underline",children:"Back to sign in"}):e.jsxs("p",{className:"text-center text-[14px] text-gray-600 dark:text-gray-400",children:["Need an account?? ","   ",e.jsx(O,{to:"/signup",className:"font-semibold text-blue-500 underline",children:"Create one"})]})})]})}),e.jsx("div",{className:"hidden lg:block lg:w-3/5 h-[calc(100vh+48px)] absolute top-2 right-2",children:e.jsx("div",{className:"relative h-full w-full",children:e.jsx("img",{src:T,alt:"Abstract waves",className:"h-full w-full object-cover border-0 rounded-3xl"})})})]})}const B=v.memo(F);export{B as default};
